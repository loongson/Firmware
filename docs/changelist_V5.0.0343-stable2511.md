# Changelist

-----------------------------------------------------
关于 V5.0.0343-stable2511 基线版本
-----------------------------------------------------
本次主要基于RefCode Stable2511基线更新，详细更新说明按照流程需要查阅代码发布说明, 社区此处不详细展开;
简述:
- 彻底摆脱了旧世界环境V3.1向前兼容包袱,全平台默认启动均切换为V4.0接口规范:
  参考链接:  https://github.com/tianocore/edk2/
  1. 默认将构建编译链从GCC8.3切到GCC12/13/14，完全复用EDK2社区编译链;
  2. Setup界面去除Legacy启动方式选项,完全复用社区VA-> PA 1:1地址映射内存管理模式;
  3. 告别老旧的UDK2018,全面切换EDK2025,LoongArch架构大部分基础设施API均复用EDK2社区;

- RefCode 各代码模块全面升级:
  1. 芯片组新增支持3B6000/3C6000/3D6000/3E6000/2K3000等系列单路/多路;
  2. PHY、MRC、SMC、IPMI、MultiArch、EMMc 等软硬件代码模块经历多次磨合迭代升级;

- 公共层新增功能如下:
  1.  服务器支持ACPI.EDAC 上报内核查询ECC功能;
  2.  增加全新模拟器MultiArch支持第三方x86外设卡 OptionRom/EFI 模拟及过滤机制;[界面可配置是否开启]
  3.  固件界面增加内存频率调整选项，不同机型可配频率可能会有区别; [界面提供恢复选项或拔CMOS电池可恢复原始状态]
  4.  同步EDK2上游LoongArch架构多核唤醒、异常、MMU等逻辑;
  5.  固件界面增加 DSM#5 选项来允许控制内核 PCIe 资源分配策略;
  6.  支持部分国产外设驱动, 如: 华瑞RAID驱动、网讯25G/40G网卡PXE;
  7.  3B/C/6000/S/D/Q系列支持LCL/PCIe.GEN4训练;
  8.  部分机型完善SMC功耗限制、睿频、风扇监测控制等功能;
  9.  支持界面可配置多显卡设备 UEFI 下同时显示选项;
  10. 支持TPM/安全启动：支持 SHA384、SHA1512、SM3 算法等, TPM需硬件支持;
  11. 部分机型支持 SE 设备模式上报 DSDT 表内资源描述。
  12. 界面分离PCIe、硬盘、USB信息，加入硬盘详细信息展示界面。
  13. 加入可调界面/控制台分辨率选项。
  14. 更新 SRAT 表到 6.5，支持 x2Apic 扩展。

- 公共层修复功能如下:
  1.  修复单路机器外接显卡和 BMC 显卡同时在位情况下，优先显示选择 All Video 可能触发的宕机问题;
  2.  修复开机屏幕显示固件版本编译时间出现乱码问题;
  3.  修复固件下 gmac 网络显示不出来问题;
  4.  去除界面下 Legacy Mode 子选项;
  8.  调整桥片频率为 750M;
  9.  优化兼容 AST2500 和 LS2K0500 BMC命令协议, 修复IPMI显示问题和个别命令错误问题;
  10. 优化增强 SMBIOS 表相关问题, 主要针对type7解决逻辑问题;
  11. 优化部分固件界面选项;
  12. 修复写 RTC LP 意外停止问题。
  13. 优化 ACPI 表相关问题;
  14. 修复BMC.2K0500 版本高于 v2.2.2 时 BMC.Web 界面不同步 SMBIOS 问题;
  15. 修复个别中文翻译问题;
  16. 修复界面Sata 口控制器开关顺序错乱问题;
  17. 修复启动时 logo 显示可能会出现黑一下问题;
  18. 修复BMC.2K500 SOL 没有输出的问题;
  19. 修复 SATA P-N 反接、PCIe LnkCap2 修正;
  20. 优化Emmc驱动支持2K3000系列;
  21. ACPI 表适配改进全芯片 PPTT、热区Hwmon监测适配 3C6000 系列;
  22. 关闭PTW, 避免由于内核页表问题引入数据错, 带内核普遍修复后打开;
  23. 部分平台移除ACPI.GPIO 资源避免系统差异存在兼容性问题,待系统补齐后补充;
  24. 优化 BMC 在位动态检测界面显示、FRU 数据扩展、USB 网口界面控制等;

以上是大部分变更说明, 因板卡差异可能会有些许偏差, 详细不再展开;
